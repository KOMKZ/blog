# mongo3.0访问控制

## 前言

1. 本文是mongodb文档的笔记总解，可能会有理解错误
2. 如果需要了解详细的访问控制内容，请查看[文档](https://docs.mongodb.com/v3.0/security/)

## 阅读官方的文档
https://docs.mongodb.com/v3.0/security/
链接地址是mongodb-server关于安全方面的文档，打开之后我们发现他的内容主要有：
(todo)

## 一些总结
### 关于AccessControl
1. mongodb-server默认是开启认证模式的，这就是说，当你启动服务的时候，你会发现不用任何用户名都可以登录。
   有两种方式开启认证模式,第一种方式：
```
$ mongod --auth
```
第二种方式,在配置文件中增加配置， 编辑`/etc/mongod.conf`， 加入以下内容，保存之后重启服务。
```
security:
        authorization: enabled
```
2. 当开启了认证服务的时候，如果你的admin数据库中不存在一个可以管理其他库的管理员用户，那么你可以选择两种方式来解决。
    1. 选择重启服务，然后建立相关的管理员，重启服务
    2. mongodb也重新提供一种方式可以解决这个问题，参考官方的[解决方案](https://docs.mongodb.com/v3.0/tutorial/enable-authentication/)

3. 需要注意一下身份验证和授权访问的概念的不同，但往往他们经常会一起出现，打个比方，你能不能登录一个网站，通过你的密码登录成功。这叫做身份验证。登录之后能够做什么事情，这叫做授权和访问控制。


### 基于角色的访问控制RBAC
mongodb中访问控制基于RABC，这里说明一下一些概念：
1. 权限动作
   权限动作是一些动作，包括读取、写入数据，维护数据库结构呀，管理用户这些Action都是和权限动作直接绑定的

2. 角色
   一个角色能够拥有多种权限动作，
